# 2023_MentalHealth_PredictiveModel

This repository contains codes, analysis logs, and intermediate results for our manuscript titled "Machine Learning Unveils Disparate Psychopathological Determinants of Depression and Suicidal Ideation in Chinese Adolescents."

This repository follows the GPL-3.0 license. For all files in this repository, their naming follows the standard underscore nomenclature. File names start with an abbreviation, concatenate a file number, and end with some text annotation describing the purpose or content of the file.

## Res_1_Logs

Auto-generated text files produced during code/script execution, generated by the R base function _sink_.

## Res_2_Results

This directory contains intermediate results such as tables and figures generated during data analysis. Due to GitHub limitations, files larger than 100 MB cannot be uploaded. These large intermediate results will be publicly available on other open-source websites, such as the Open Science Framework. These results mainly consist of Excel-like tables that store machine-learning predictive modeling results during model training in the internal sample.

## Res_3_IntermediateData

This folder contains raw and preprocessed questionnaire data from our survey study. However, due to written consent agreements with participants and their parents, we cannot directly make these data open access. Researchers interested in accessing these data can send an email to the corresponding author (Dr. Xiaoyi Fang). The first two authors do not provide any assurance of data access.

## Res_4_Reports_for_Manuscript

Tables and figures used in our manuscript and supplemental materials. The folder structure was auto-created by _RepVis_14_TablesExtract.R_ and _RepVis_15_FiguresExtract.R_. Here, we provide SVG-format high-quality vector images directly output by R. Some necessary post-processing was done manually in Adobe Illustrator 2023, Office 2021 PowerPoint, and Office 2021 Word. Thus, files in this folder may differ slightly from what we provided in our manuscript and supplemental materials.

## Step_0_Preprocess

R codes for questionnaire data preprocessing, mainly dependent on R packages _bruceR_, _careless_, _mice_, and _simputation_. See more details in our supplemental materials.

## Step_1_StatisticalAnalysis

R codes for reliability analysis, demographic variable comparisons, and other necessary statistical analyses.

## Step_2_PredictiveModel

Python codes and scripts for our machine learning-based predictive modeling. The folder **subfunctions** contains user-defined Python subfunctions to make these analyses more modular and create the standard machine learning pipeline.

## Step_3_AutoReportVisualization

R codes and scripts for visualization and results summary.

## Supp_0_Subfunctions

Some user-defined R functions to ensure smooth processes.

## Supp_1_NationwideEducationData

Raw data obtained from the Ministry of Education of the People's Republic of China - Education Statistics 2020. [Reference Link here](http://www.moe.gov.cn/jyb_sjzl/moe_560/2020/quanguo/)

## Supp_2_OrganizedNationwideEducationData

Manually reorganized nationwide data.

## Supp_3_Slides_for_Model_Evaluation_Indices

As indicated in supplemental materials, we have prepared some easy-to-read slides to illustrate the rationale of prediction performance evaluation indices used in this study. You can find both English and Chinese version slides in this folder.
